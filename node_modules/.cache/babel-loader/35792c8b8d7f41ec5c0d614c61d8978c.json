{"ast":null,"code":"import router from \"@/router\";\nimport { required, email, minLength, maxLength } from \"vuelidate/lib/validators\";\nimport axios from \"axios\";\nexport default {\n  name: \"login\",\n\n  data() {\n    return {\n      id: 1,\n      email: \"\",\n      password: \"\",\n      users: []\n    };\n  },\n\n  validations: {\n    email: {\n      required,\n      email\n    },\n    password: {\n      required,\n      minLength: minLength(6),\n      maxLength: maxLength(18)\n    }\n  },\n  methods: {\n    validationStatus(validation) {\n      return typeof validation != \"undefined\" ? validation.$error : false;\n    },\n\n    async submit() {\n      this.$v.$touch();\n\n      if (this.email && this.password) {\n        let result = await axios.get(`http://localhost:3000/users?email=${this.email}&password=${this.password}`);\n\n        if (result.status == 200 && result.data.length > 0) {\n          localStorage.setItem(\"user\", JSON.stringify(result.data[0]));\n          alert(\"Login is Successfully....\");\n          router.push(\"/\");\n        }\n\n        console.log(result); // this.users.push({\n        //   id: this.id++,\n        //   email: this.email,\n        //   password: this.password,\n        // });\n        // alert(\"login successfully\");\n        // router.push('/')\n        // localStorage.setItem(\"name\", JSON.stringify(this.users));\n        // console.log(this.users,\"users\")\n      } else {\n        alert(\"Please fill the form\");\n      }\n    },\n\n    mounted() {\n      let user = localStorage.getItem(\"user\");\n\n      if (user) {\n        router.push(\"/\");\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2DA;AACA,SACAA,QADA,EAEAC,KAFA,EAGAC,SAHA,EAIAC,SAJA,QAKA,0BALA;AAMA;AACA;EACAC,aADA;;EAEAC;IACA;MACAC,KADA;MAEAL,SAFA;MAGAM,YAHA;MAIAC;IAJA;EAMA,CATA;;EAUAC;IACAR;MAAAD;MAAAC;IAAA,CADA;IAEAM;MAAAP;MAAAE;MAAAC;IAAA;EAFA,CAVA;EAeAO;IACAC;MACA;IACA,CAHA;;IAKA;MACA;;MACA;QACA,6BACA,2EADA;;QAGA;UACAC;UACAC;UACAC;QACA;;QACAC,oBATA,CAUA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA,CAnBA,MAmBA;QACAF;MACA;IACA,CA7BA;;IA8BAG;MACA;;MACA;QACAF;MACA;IACA;;EAnCA;AAfA","names":["required","email","minLength","maxLength","name","data","id","password","users","validations","methods","validationStatus","localStorage","alert","router","console","mounted"],"sourceRoot":"src/components","sources":["LoginPage.vue"],"sourcesContent":["<template>\n  <div class=\"form mt-5\">\n    <div class=\"text-center\">\n      <h1>Login Page</h1>\n    </div>\n    <form id=\"signup-form\" v-on:submit.prevent=\"submit\">\n      <div class=\"row\">\n        <div class=\"col-12 form-group\">\n          <label class=\"col-form-label col-form-label-lg\"\n            >Email <span class=\"text-danger\">*</span></label\n          >\n          <input\n            type=\"email\"\n            v-model.trim=\"$v.email.$model\"\n            :class=\"{ 'is-invalid': validationStatus($v.email) }\"\n            class=\"form-control form-control-lg\"\n          />\n          <div v-if=\"!$v.email.required\" class=\"invalid-feedback\">\n            The email field is required.\n          </div>\n          <div v-if=\"!$v.email.email\" class=\"invalid-feedback\">\n            The email is not valid.\n          </div>\n        </div>\n\n        <div class=\"col-12 form-group\">\n          <label class=\"col-form-label col-form-label-lg\"\n            >Password <span class=\"text-danger\">*</span></label\n          >\n          <input\n            type=\"password\"\n            v-model.trim=\"$v.password.$model\"\n            :class=\"{ 'is-invalid': validationStatus($v.password) }\"\n            class=\"form-control form-control-lg\"\n          />\n          <div v-if=\"!$v.password.required\" class=\"invalid-feedback\">\n            The password field is required.\n          </div>\n          <div v-if=\"!$v.password.minLength\" class=\"invalid-feedback\">\n            You must have at least\n            {{ $v.password.$params.minLength.min }} letters.\n          </div>\n          <div v-if=\"!$v.password.maxLength\" class=\"invalid-feedback\">\n            You must not have greater then\n            {{ $v.password.$params.maxLength.min }} letters.\n          </div>\n          <div class=\"mt-2\">\n            <span>Create a new Account? </span\n            ><router-link to=\"signup\">SignUp</router-link>\n          </div>\n        </div>\n        <div class=\"col-12 mt-4 form-group text-center\">\n          <button class=\"btn btn-primary btn-lg col-4\">Login</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n<script>\nimport router from \"@/router\";\nimport {\n  required,\n  email,\n  minLength,\n  maxLength,\n} from \"vuelidate/lib/validators\";\nimport axios from \"axios\";\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      id: 1,\n      email: \"\",\n      password: \"\",\n      users: [],\n    };\n  },\n  validations: {\n    email: { required, email },\n    password: { required, minLength: minLength(6), maxLength: maxLength(18) },\n  },\n\n  methods: {\n    validationStatus(validation) {\n      return typeof validation != \"undefined\" ? validation.$error : false;\n    },\n\n    async submit() {\n      this.$v.$touch();\n      if (this.email && this.password) {\n        let result = await axios.get(\n          `http://localhost:3000/users?email=${this.email}&password=${this.password}`\n        );\n        if (result.status == 200 && result.data.length > 0) {\n          localStorage.setItem(\"user\", JSON.stringify(result.data[0]));\n          alert(\"Login is Successfully....\");\n          router.push(\"/\");\n        }\n        console.log(result);\n        // this.users.push({\n        //   id: this.id++,\n        //   email: this.email,\n        //   password: this.password,\n        // });\n        // alert(\"login successfully\");\n        // router.push('/')\n        // localStorage.setItem(\"name\", JSON.stringify(this.users));\n        // console.log(this.users,\"users\")\n      } else {\n        alert(\"Please fill the form\");\n      }\n    },\n    mounted() {\n      let user = localStorage.getItem(\"user\");\n      if (user) {\n        router.push(\"/\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.form {\n  text-align: start;\n  width: 40%;\n  margin: 0 auto;\n  padding: 20px;\n  box-shadow: 5px 13px 21px #888888;\n  border-radius: 25px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}